# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø OpenHousing

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–ò–°–ü–†–ê–í–õ–ï–ù–û)

### 1. ClassCastException –ø—Ä–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ enum –∑–Ω–∞—á–µ–Ω–∏–π ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö enum –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –Ω–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª `ClassCastException`.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `ScriptSerializer.java` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è enum –∑–Ω–∞—á–µ–Ω–∏–π –≤ –º–µ—Ç–æ–¥–µ `deserializeEnumValue()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/serialization/ScriptSerializer.java`

### 2. Thread.sleep() –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `WorldActionBlock.java` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `Thread.sleep()`, —á—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–ª–æ —Å–µ—Ä–≤–µ—Ä.

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `BukkitScheduler.runTaskLater()` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/blocks/actions/WorldActionBlock.java`

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –≤—ã–∑—ã–≤–∞—è –ª–∞–≥–∏.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ `DatabaseManager.java`:
- `loadCodeScriptAsync()`
- `saveCodeScriptAsync()`
- `saveHouseAsync()`
- `loadAllHousesAsync()`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/database/DatabaseManager.java`

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ –±—ã–ª –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `CodeManager.java` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `event.isAsynchronous()` –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ —á–µ—Ä–µ–∑ `BukkitScheduler.runTask()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/CodeManager.java`

### 5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–∞ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `CodeListener.java` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `loadCodeScriptAsync()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/listeners/CodeListener.java`

### 6. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–º–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–æ–º–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–ª–∞–≥–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `HousingManager.java` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `loadAllHousesAsync()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/housing/HousingManager.java`

### 7. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥—ã `replaceVariables`, `parseLocation` –∏ –¥—Ä—É–≥–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∞—Å—Å–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å `CodeBlockUtils.java` —Å –æ–±—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏.

**–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:**
- `src/main/java/ru/openhousing/utils/CodeBlockUtils.java`

## üîß –ö–ê–ö –ü–†–ò–ú–ï–ù–ò–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–ü–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   mvn clean compile
   ```

2. **–°–æ–±–µ—Ä–∏—Ç–µ JAR —Ñ–∞–π–ª:**
   ```bash
   mvn package
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π JAR —Ñ–∞–π–ª –Ω–æ–≤—ã–º:**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `target/OpenHousing-1.0.0.jar` –≤ –ø–∞–ø–∫—É `plugins/`

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**

## üìã –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –æ—à–∏–±–∫–∏ `ClassCastException` –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ–ª–∂–µ–Ω –ª–∞–≥–∞—Ç—å –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GUI** - —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É** - –ø–ª–∞–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

- –í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫
- Enum –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–¥ –±–æ–ª—å—à–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞
- –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

## üöÄ –î–ê–õ–¨–ù–ï–ô–®–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
5. –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
