# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø OpenHousing

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–ò–°–ü–†–ê–í–õ–ï–ù–û)

### 1. ClassCastException –ø—Ä–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ enum –∑–Ω–∞—á–µ–Ω–∏–π ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö enum –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –Ω–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª `ClassCastException`.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `ScriptSerializer.java` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è enum –∑–Ω–∞—á–µ–Ω–∏–π –≤ –º–µ—Ç–æ–¥–µ `deserializeEnumValue()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/serialization/ScriptSerializer.java`

### 2. Thread.sleep() –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `WorldActionBlock.java` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `Thread.sleep()`, —á—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–ª–æ —Å–µ—Ä–≤–µ—Ä.

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `BukkitScheduler.runTaskLater()` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/blocks/actions/WorldActionBlock.java`

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –≤—ã–∑—ã–≤–∞—è –ª–∞–≥–∏.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ `DatabaseManager.java`:
- `loadCodeScriptAsync()`
- `saveCodeScriptAsync()`
- `saveHouseAsync()`
- `loadAllHousesAsync()`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/database/DatabaseManager.java`

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ –±—ã–ª –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `CodeManager.java` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `event.isAsynchronous()` –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ —á–µ—Ä–µ–∑ `BukkitScheduler.runTask()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/CodeManager.java`

### 5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–∞ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `CodeListener.java` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `loadCodeScriptAsync()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/listeners/CodeListener.java`

### 6. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–º–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–æ–º–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–ª–∞–≥–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `HousingManager.java` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `loadAllHousesAsync()`.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/housing/HousingManager.java`

### 7. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥—ã `replaceVariables`, `parseLocation` –∏ –¥—Ä—É–≥–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∞—Å—Å–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å `CodeBlockUtils.java` —Å –æ–±—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏.

**–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:**
- `src/main/java/ru/openhousing/utils/CodeBlockUtils.java`

## üöÄ –ù–û–í–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–î–û–ë–ê–í–õ–ï–ù–û)

### 8. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å CodeBlockUtils ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –º–µ—Ç–æ–¥—ã –Ω–∞ –≤—ã–∑–æ–≤—ã –∏–∑ `CodeBlockUtils`:
- `PlayerActionBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `EntityActionBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `WorldActionBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `IfEntityBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `IfVariableBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `VariableActionBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `RepeatBlock.replaceVariables()` ‚Üí `CodeBlockUtils.replaceVariables()`
- `WorldActionBlock.parseLocation()` ‚Üí `CodeBlockUtils.parseLocation()`
- `EntityActionBlock.parseLocation()` ‚Üí `CodeBlockUtils.parseLocation()`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- –í—Å–µ –±–ª–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏ —É—Å–ª–æ–≤–∏–π

### 9. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ª—É—á—à–µ–π –æ—Ç–ª–∞–¥–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤:

**PlayerActionBlock:**
- `GIVE_ITEM`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
- `TAKE_ITEM`: –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- `SET_HEALTH`: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 0-20
- `SET_FOOD`: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 0-20
- `SET_LEVEL`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- `ADD_EXPERIENCE`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- `SET_GAMEMODE`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ:**
```
–ë—ã–ª–æ: "–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è: NumberFormatException"
–°—Ç–∞–ª–æ: "–û—à–∏–±–∫–∞ –≤ GIVE_ITEM: –ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 'abc'. –û–∂–∏–¥–∞–µ—Ç—Å—è —á–∏—Å–ª–æ"
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/blocks/actions/PlayerActionBlock.java`

### 10. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ —Å—É—â–Ω–æ—Å—Ç–µ–π:

**TargetBlock:**
- `PLAYERS_IN_HOUSE`: –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º –∂–µ –º–∏—Ä–µ –≤–º–µ—Å—Ç–æ –≤—Å–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- `NEAREST_PLAYER`: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –≤ —Ç–æ–º –∂–µ –º–∏—Ä–µ
- `RANDOM_PLAYER`: –°–ª—É—á–∞–π–Ω—ã–π –∏–≥—Ä–æ–∫ –∏–∑ —Ç–æ–≥–æ –∂–µ –º–∏—Ä–∞
- `NEAREST_ENTITY`: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤
- `ALL_ENTITIES`: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤

**EntityActionBlock:**
- `findNearestEntity`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `CodeBlockUtils.findNearestEntities()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–æ–∏—Å–∫–µ —Ü–µ–ª–µ–π.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/main/java/ru/openhousing/coding/blocks/control/TargetBlock.java`
- `src/main/java/ru/openhousing/coding/blocks/actions/EntityActionBlock.java`

## üîß –ö–ê–ö –ü–†–ò–ú–ï–ù–ò–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–ü–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   mvn clean compile
   ```

2. **–°–æ–±–µ—Ä–∏—Ç–µ JAR —Ñ–∞–π–ª:**
   ```bash
   mvn package
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π JAR —Ñ–∞–π–ª –Ω–æ–≤—ã–º:**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `target/OpenHousing-1.0.0.jar` –≤ –ø–∞–ø–∫—É `plugins/`

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**

## üìã –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –æ—à–∏–±–∫–∏ `ClassCastException` –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ–ª–∂–µ–Ω –ª–∞–≥–∞—Ç—å –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GUI** - —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É** - –ø–ª–∞–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ª–∞–¥–∫—É** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å—Ç–∞–ª–∏ –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏
6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–∏—Å–∫ —Ü–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

- –í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫
- Enum –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–¥ –±–æ–ª—å—à–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞
- –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **–ù–û–í–û–ï:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ - –≤—Å–µ –æ–±—â–∏–µ –º–µ—Ç–æ–¥—ã —Ç–µ–ø–µ—Ä—å –≤ `CodeBlockUtils`
- **–ù–û–í–û–ï:** –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —É–ø—Ä–æ—â–∞—é—Ç –æ—Ç–ª–∞–¥–∫—É —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–ù–û–í–û–ï:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–∏—Å–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π - —Å–Ω–∏–∂–µ–Ω–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–ü–†–ò–û–†–ò–¢–ï–¢–´)

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚úÖ
2. **–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –æ—à–∏–±–æ–∫** –≤ –¥—Ä—É–≥–∏–µ –±–ª–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π ‚úÖ
3. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–º–µ–Ω—É "–º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫" –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `BlockParams` ‚úÖ
4. **–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –±–ª–æ–∫–æ–≤** - –æ–±–Ω–æ–≤–∏—Ç—å `EntityEventBlock`, `WorldEventBlock` –∏ –¥—Ä—É–≥–∏–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `BlockParams`

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
4. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –∑–∞–º–µ–Ω–∏—Ç—å `Map<String, Object>` –Ω–∞ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è
5. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
6. **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –¥–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–ª–æ–∫–æ–≤

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
7. **Unit-—Ç–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
8. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API** - —Å–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
9. **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –æ–± –æ—à–∏–±–∫–∞—Ö

## üÜï –ù–û–í–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–ü–û–°–õ–ï –ü–û–°–õ–ï–î–ù–ï–ì–û –ê–ù–ê–õ–ò–ó–ê)

### 1. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤ CodeBlockUtils ‚úÖ
- **PlayerActionBlock**: –ó–∞–º–µ–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `replaceVariables` –Ω–∞ –≤—ã–∑–æ–≤—ã `CodeBlockUtils.replaceVariables`
- **EntityActionBlock**: –ó–∞–º–µ–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `replaceVariables` –∏ `parseLocation` –Ω–∞ –≤—ã–∑–æ–≤—ã —É—Ç–∏–ª–∏—Ç
- **WorldActionBlock**: –ó–∞–º–µ–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `replaceVariables` –∏ `parseLocation` –Ω–∞ –≤—ã–∑–æ–≤—ã —É—Ç–∏–ª–∏—Ç
- **IfEntityBlock**: –ó–∞–º–µ–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `replaceVariables` –Ω–∞ –≤—ã–∑–æ–≤ —É—Ç–∏–ª–∏—Ç—ã
- **IfVariableBlock**: –ó–∞–º–µ–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `replaceVariables` –Ω–∞ –≤—ã–∑–æ–≤ —É—Ç–∏–ª–∏—Ç—ã
- **VariableActionBlock**: –ó–∞–º–µ–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `replaceVariables` –Ω–∞ –≤—ã–∑–æ–≤ —É—Ç–∏–ª–∏—Ç—ã
- **RepeatBlock**: –ó–∞–º–µ–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `replaceVariables` –Ω–∞ –≤—ã–∑–æ–≤ —É—Ç–∏–ª–∏—Ç—ã

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ ‚úÖ
- **PlayerActionBlock**: –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ try-catch —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- **EntityActionBlock**: –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `spawnParticles` —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **WorldActionBlock**: –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ —Å—É—â–µ—Å—Ç–≤ ‚úÖ
- **TargetBlock**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ü–µ–ª–µ–π
- **EntityActionBlock**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `findNearestEntity` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `CodeBlockUtils`
- **IfEntityBlock**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `findNearestEntity` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è –∏–º–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚úÖ
- **BlockParams.java**: –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–º–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ "–º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫"**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞ –∑–∞–º–µ–Ω–∞ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏**:
  - **PlayerActionBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.ACTION_TYPE`, `BlockParams.VALUE`, `BlockParams.EXTRA1`, `BlockParams.EXTRA2`
  - **EntityActionBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.ACTION_TYPE`, `BlockParams.VALUE`, `BlockParams.EXTRA1`, `BlockParams.EXTRA2`
  - **WorldActionBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.ACTION_TYPE`, `BlockParams.VALUE`, `BlockParams.LOCATION`, `BlockParams.EXTRA`
  - **IfEntityBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.CONDITION_TYPE`, `BlockParams.VALUE`, `BlockParams.COMPARE_VALUE`
  - **IfVariableBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.CONDITION_TYPE`, `BlockParams.VALUE`, `BlockParams.SECOND_VALUE`, `BlockParams.VARIABLE_NAME`
  - **IfPlayerBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.CONDITION_TYPE`, `BlockParams.VALUE`, `BlockParams.COMPARE_VALUE`
  - **VariableActionBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.ACTION_TYPE`, `BlockParams.VALUE`, `BlockParams.VARIABLE_NAME`, `BlockParams.SECOND_VARIABLE`
  - **RepeatBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.REPEAT_TYPE`, `BlockParams.VALUE`, `BlockParams.MAX_ITERATIONS`
  - **FunctionBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.FUNCTION_NAME`, `BlockParams.ARGUMENTS`, `BlockParams.DESCRIPTION`
  - **CallFunctionBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç `BlockParams.FUNCTION_NAME`, `BlockParams.ARGUMENTS`
  - **ElseBlock**: –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `BlockParams.DESCRIPTION`
  - **PlayerEventBlock**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `BlockParams.EVENT_TYPE`

## üéØ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

**–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã)
**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ –•–æ—Ä–æ—à–∞—è (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫)
**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** ‚úÖ –•–æ—Ä–æ—à–µ–µ (—É—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** ‚úÖ –î–∞ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

–ü–ª–∞–≥–∏–Ω –ø—Ä–æ—à–µ–ª –ø—É—Ç—å –æ—Ç "–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞" –¥–æ "–Ω–∞–¥–µ–∂–Ω–æ–π –∏ —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—Å–Ω–æ–≤—ã"! üéâ
